# ============================================================================
# Hunyuan3D-Part ComfyUI Node Dependencies
# ============================================================================
#
# Standard dependencies that can be installed via pip.
# CUDA-specific packages (spconv, torch-scatter, torch-cluster) are installed
# automatically via install.py to ensure correct version matching.
#
# To install: python install.py
#
# ============================================================================

# 3D Mesh Processing
trimesh                    # Main 3D mesh library
pymeshlab==2023.12.post3  # Advanced mesh operations

# Deep Learning
torch>=2.0.0              # PyTorch (should already be installed by ComfyUI)
torchvision               # Vision utilities
diffusers                 # Required for X-Part diffusion models
timm                      # PyTorch Image Models (required for Sonata backbone)
einops                    # Tensor operations (required for DiT models)
# flash-attn is handled separately by install.py (optional, requires prebuilt wheels)

# Numerical Computing
numpy>=1.20.0             # Array operations
scipy                     # Scientific computing
scikit-learn              # Machine learning utilities
scikit-image              # Image processing (required for X-Part mesh utilities)

# Point Cloud Processing
fpsample                  # Farthest point sampling

# Configuration & Utilities
addict                    # Dict utilities
omegaconf                 # YAML configuration
huggingface-hub           # Model downloading
hf-transfer               # Fast HuggingFace downloads (optional but recommended)

# Optimization
numba                     # JIT compilation for performance

# Additional Utilities
Pillow                    # Image processing
tqdm                      # Progress bars

# Testing (Development)
pytest>=6.0.0             # Testing framework
pytest-timeout            # Timeout support for tests

# ============================================================================
# CUDA-Specific Dependencies (Installed via install.py)
# ============================================================================
#
# These packages require exact torch/CUDA version matching and are NOT
# available as simple pip packages. They are installed automatically by
# install.py which detects your environment and uses appropriate sources.
#
# - spconv-cu{VERSION}     : Sparse convolution (for P3-SAM/Sonata)
#                           Installed from PyPI with version matching
#
# - torch-scatter          : Scatter operations for point clouds
# - torch-cluster          : Clustering ops (FPS, etc.)
#                           Both installed from PyTorch Geometric wheel repo
#
# Manual installation (if needed):
#   1. Detect versions: python -c "import torch; print(torch.__version__, torch.version.cuda)"
#   2. Install spconv: pip install spconv-cu{CUDA_VERSION}
#   3. Install PyG packages:
#      pip install torch-scatter torch-cluster \
#        -f https://data.pyg.org/whl/torch-{TORCH_VERSION}+cu{CUDA_VERSION}.html
#
# ============================================================================
